---
title: "Developing-Data-Products-Week-3-Assignment"
author: Bently
date: "02/05/2021"
output: html_document
    
---

### Data set
The data used is from from an actual operating wind farm, but identifying info is removed. I used this data 
from my current work. Source code and data located github [link](https://github.com/barteec/DevelopingDataProducts-Week3-Assignment) I have loaded
this data into a folder called [datafiles](https://github.com/barteec/DevelopingDataProducts-Week3-Assignment). Please 
be sure to load this file folder to you working directory. 

Please make sure you have these libraries loaded:
```{r warning=FALSE, message=FALSE}
library(knitr)
library(kableExtra)
library(plotly)
library(data.table)
```

```{r libraries, include=FALSE, echo=FALSE}
library(knitr)
library(kableExtra)
library(plotly)
library(data.table)

setwd(getwd()) # will default to your WD
#make sure you load the datafiles folder from github
#Load data. Make sure you loaded the csv files from the github. 
WinData <- readxl::read_xlsx(path = "./PowerCurveSummary.xlsx", sheet = 1)
WinInfo <- read.csv(file = "./WinInfo.csv")

```


## General Wind Farm Information and Map Location
Below you will see general identifying information for a Wind Farm located in North Dakota, USA. 

* If you are interested  in the wind turbines there is link in the Information table for you.

```{r information table1, echo=FALSE, results="asis", warning=FALSE}
Parkdata <- data.table(WinInfo)
Parkdata <- melt.data.table(Parkdata, id.vars = "Ã¯..ID_WF")
Parkdata <- setnames(Parkdata, c("variable", "value"), c("Category", "Information"))
Parkdata <- Parkdata[,!1, with = F]
kable(Parkdata, format = "markdown")
```
<div>


## Plot to show the past year's Wind Speed vs Power Ouput
Th plot below is a very basic representation of a power curve chart for a wind turbine. You will see how wind speed and power are graphed against one another. You can see as wind speed increases the power output will increase (ramp up) 
as well. The wind turbine will max out power output at 2.5 megawatts (mw) and will slow and/or stop producing power as wind speed increases past 20 meters per second (m/s) 

This charts below are to compared the Reference Power advertised by manufacture versus the Measured Power out put. 
```{r echo=FALSE, results= 'asis', warning=FALSE, message = FALSE}
#--- --- --- Wind Speed, power and temps

Plot <- WinData

fig1 <- plot_ly(data = Plot, x = ~Wind_Speed, y = ~Reference_Power, fill = 'tozeroy',
        # Hover text:
        text = ~paste("Wind_Speed: ", Wind_Speed, 'Reference_Power', Reference_Power),
        color = ~Reference_Power, size = ~Reference_Power
        ) 
fig2 <- plot_ly(data = Plot, x = ~Wind_Speed, y = ~Measured_Power, fill = 'tozeroy',
        # Hover text:
        text = ~paste("Wind_Speed: ", Wind_Speed, 'Measured_Power', Measured_Power),
        color = ~Measured_Power, size = ~Measured_Power
        )
fig <- subplot(fig1, fig2) %>% layout(title = "Reference_Power compared to Measured_Power")
fig


fig3 <- plot_ly(y = Plot$Reference_Power, type = "box", boxpoints = "all", jitter = 0.3,
        pointpos = -1.8, name="Reference_Power")
fig3 <- fig3 %>% add_trace(y = Plot$Measured_Power, name="Measured_Power")
fig3 <- fig3 %>% layout(title = "Reference_Power compared to Measured_Power")
fig3
```
